# 도커 컨테이너 구조

도커 컨테이너는 컨테이너 레이어(Container Layer)와 이미지 레이어(Image Layer)로 구성되어 있습니다.

## 컨테이너 레이어

읽기/쓰기 모두 가능한 계층(R/W layer)으로 최상단 레이어에 추가됩니다.
컨테이너를 실행하고 진행되는 변경사항은 이 계층에 저장됩니다.

## 이미지 레이어

읽기 전용 계층(R/O layer)으로 다른 컨테이너와 공유할 수 있는 레이어입니다.

![container-layers](docker-container-layers.jpeg) {border-effect="rounded"}

## 컨테이너 레이어와 이미지 레이어 차이점

컨테이너와 이미지의 주요 차이점은 최상단 레이어의 쓰기 가능한 레이어입니다. 
새로운 데이터를 추가하거나 기존 데이터를 수정하는 컨테이너에 대한 모든 쓰기 작업은 이 쓰기 가능한 레이어에 저장됩니다. 
컨테이너가 삭제되면 쓰기 가능한 레이어 또한 삭제도비니다. 그러다 기본 이미지는 변경되지 않습니다.

각 컨테이너에는 쓰기 가능한 자체 컨테이너 레이어가 있고 모든 변경 사항이 이 컨테이너 레이어에 저장되므로 
여러 컨테이너가 동일한 기본 이미지 액세스를 공유하면서도 자체 데이터 상태를 가질 수 있습니다.

아래 다이아그램 이미지는 Ubuntu 15.04 이미지를 공유하는 여러 컨테이너를 보여줍니다.

![sharing-layers](docker-sharing-layers.jpeg) {border-effect="rounded"}

## 도커 컨테이너 구조의 장점

위에서 설명했듯이 도커 컨테이너 구조는 컨테이너가 이미지를 공유하는 구조이기 때문에 여러 컨테이너를 만들어도 불필요한 용량을 줄이고 동일한 성능을 낼 수 있습니다.